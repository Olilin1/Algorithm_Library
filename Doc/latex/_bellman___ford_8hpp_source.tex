\doxysection{Bellman\+\_\+\+Ford.\+hpp}
\hypertarget{_bellman___ford_8hpp_source}{}\label{_bellman___ford_8hpp_source}\index{Graphs/Bellman\_Ford/Bellman\_Ford.hpp@{Graphs/Bellman\_Ford/Bellman\_Ford.hpp}}
\mbox{\hyperlink{_bellman___ford_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{AUTHOR:\ Oliver\ Lindgren}}
\DoxyCodeLine{00003\ \textcolor{comment}{*/}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#ifndef\ BELLMAN\_FORD\_HPP}}
\DoxyCodeLine{00006\ \textcolor{preprocessor}{\#define\ BELLMAN\_FORD\_HPP}}
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include<vector>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include<utility>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include<limits>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include<stddef.h>}}
\DoxyCodeLine{00011\ }
\DoxyCodeLine{00012\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct_edge}{Edge}}\{}
\DoxyCodeLine{00013\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{struct_edge_a3df41a08201fd39813da3e72d3a0717f}{from}},\ \mbox{\hyperlink{struct_edge_a42574244cb450ad7806d5b699979a6ef}{to}};}
\DoxyCodeLine{00014\ \ \ \ \ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{struct_edge_a1bdbcbfa25aece28a5e268909ba22ef1}{weight}};}
\DoxyCodeLine{00015\ \};}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bellman___ford_8hpp_ac4db1f2cc4694d0ce64138a54ec92069}{inf}}\ =\ std::numeric\_limits<long\ long\ int>::max();}
\DoxyCodeLine{00018\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{_bellman___ford_8hpp_aa5a286e486cfdde4e2f70a0a69078f80}{negInf}}\ =\ std::numeric\_limits<long\ long\ int>::min();}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{comment}{/*}}
\DoxyCodeLine{00022\ \textcolor{comment}{My\ implementation\ of\ the\ Bellman-\/Ford\ algorithm.\ Calculates\ the\ distance\ from\ startNode\ to\ all\ other\ nodes\ in\ the\ graph.}}
\DoxyCodeLine{00023\ \textcolor{comment}{Returns\ a\ vector\ of\ pairs\ where\ the\ first\ item\ of\ each\ element\ i\ is\ the\ distance\ to\ the\ node\ i\ and\ the\ second\ item\ is\ the\ node\ you\ go\ to\ i\ from.}}
\DoxyCodeLine{00024\ \textcolor{comment}{If\ there\ is\ no\ way\ to\ reach\ a\ node\ i\ then\ v[i].first\ is\ set\ to\ inf.}}
\DoxyCodeLine{00025\ \textcolor{comment}{If\ node\ i\ is\ part\ of\ a\ negative\ cycle\ then\ v[i].first\ is\ set\ to\ negInf.}}
\DoxyCodeLine{00026\ \textcolor{comment}{The\ start\ node's\ parent\ is\ set\ to\ inf\ unless\ it\ is\ part\ of\ a\ negative\ cycle.}}
\DoxyCodeLine{00027\ \textcolor{comment}{Takes\ as\ input\ the\ amount\ of\ nodes\ in\ the\ graph,\ which\ node\ to\ compute\ the\ distance\ from,\ and\ a\ vector\ contaning\ all\ Edges\ in\ the\ graph.}}
\DoxyCodeLine{00028\ \textcolor{comment}{Time\ complexity:\ O(n*m)\ where\ n\ is\ the\ amount\ of\ nodes\ in\ the\ graph\ and\ m\ is\ the\ amount\ of\ edges.}}
\DoxyCodeLine{00029\ \textcolor{comment}{*/}}
\DoxyCodeLine{00030\ std::vector<std::pair<long\ long\ int,\ size\_t>>\ \mbox{\hyperlink{_bellman___ford_8hpp_a01cb306af9faeeee30572c8fc8e65f1d}{Bellman\_Ford}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ nodes,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ startNode,\ \textcolor{keyword}{const}\ std::vector<Edge>\&\ edges)\{}
\DoxyCodeLine{00031\ \ \ \ \ std::vector<std::pair<long\ long\ int,\ size\_t>>\ dist\_pred(nodes,\ \{\mbox{\hyperlink{_bellman___ford_8hpp_ac4db1f2cc4694d0ce64138a54ec92069}{inf}},\ \mbox{\hyperlink{_bellman___ford_8hpp_ac4db1f2cc4694d0ce64138a54ec92069}{inf}}\});}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \ \ \ \ dist\_pred[startNode].first\ =\ 0;}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \ \ \textcolor{comment}{//Construct\ solution}}
\DoxyCodeLine{00036\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ nodes-\/1;\ i++)\{}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ change\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{struct_edge}{Edge}}\ e\ :\ edges)\{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(dist\_pred[e.from].first\ ==\ \mbox{\hyperlink{_bellman___ford_8hpp_ac4db1f2cc4694d0ce64138a54ec92069}{inf}})\ \textcolor{keywordflow}{continue};\ \textcolor{comment}{//Avoid\ overflow\ error}}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(dist\_pred[e.from].first\ +\ e.weight\ <\ dist\_pred[e.to].first)\{}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dist\_pred[e.to].first\ =\ dist\_pred[e.from].first\ +\ e.weight;}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dist\_pred[e.to].second\ =\ e.from;}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ change\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!change)\ \textcolor{keywordflow}{return}\ dist\_pred;}
\DoxyCodeLine{00047\ \ \ \ \ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{comment}{//Now\ do\ the\ same\ thing\ again.\ Every\ single\ node\ that\ still\ has\ a\ shorter\ path\ to\ it\ is\ part\ of\ a\ negative\ cycle.}}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{size\_t}\ i\ =\ 0;\ i\ <\ nodes-\/1;\ i++)\{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ change\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{struct_edge}{Edge}}\ e\ :\ edges)\{}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(dist\_pred[e.from].first\ ==\ \mbox{\hyperlink{_bellman___ford_8hpp_ac4db1f2cc4694d0ce64138a54ec92069}{inf}})\ \textcolor{keywordflow}{continue};\ \textcolor{comment}{//Avoid\ overflow\ error}}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}((dist\_pred[e.from].first\ +\ e.weight\ <\ dist\_pred[e.to].first)\ ||\ (dist\_pred[e.from].first\ ==\ \mbox{\hyperlink{_bellman___ford_8hpp_aa5a286e486cfdde4e2f70a0a69078f80}{negInf}}\ \&\&\ dist\_pred[e.to].first\ !=\ \mbox{\hyperlink{_bellman___ford_8hpp_aa5a286e486cfdde4e2f70a0a69078f80}{negInf}}))\{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dist\_pred[e.to].first\ =\ \mbox{\hyperlink{_bellman___ford_8hpp_aa5a286e486cfdde4e2f70a0a69078f80}{negInf}};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dist\_pred[e.to].second\ =\ e.from;}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ change\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(!change)\ \textcolor{keywordflow}{return}\ dist\_pred;}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keywordflow}{return}\ dist\_pred;}
\DoxyCodeLine{00065\ \}}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
